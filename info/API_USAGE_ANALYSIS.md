# üîç –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ OpenAPI —Å—Ö–µ–º–µ

**–í—Å–µ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –≤ —Å—Ö–µ–º–µ:** 47  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ:** 35  
**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** 12  

---

## ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (35/47)

### üîê Auth (2/2) - 100%
- ‚úÖ `login` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.login()`
- ‚úÖ `logout` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.logout()`

### üë§ Account (2/2) - 100%
- ‚úÖ `getAccount` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getAccount()`
- ‚úÖ `updateAccount` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.updateAccount()`

### üìã Positions (6/6) - 100%
- ‚úÖ `listPositions` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getPositions()`
- ‚úÖ `createPosition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.createPosition()`
- ‚úÖ `getPosition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getPosition()`
- ‚úÖ `updatePosition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.updatePosition()`
- ‚úÖ `getPositionStats` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getPositionStats()`
- ‚úÖ `getPositionPublicLink` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getPositionPublicLink()`

### üë• Candidates (5/5) - 100%
- ‚úÖ `listPositionCandidates` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getCandidates()`
- ‚úÖ `createPositionCandidate` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.createCandidate()`
- ‚úÖ `getCandidate` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getCandidate()`
- ‚úÖ `updateCandidate` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.updateCandidate()`
- ‚úÖ `deleteCandidate` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.deleteCandidate()`

### üéØ Interviews (7/7) - 100%
- ‚úÖ `listInterviews` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getInterviews()`
- ‚úÖ `getInterview` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getInterview()`
- ‚úÖ `createInterviewFromCandidate` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.createInterview()`
- ‚úÖ `submitInterviewAnswer` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.submitAnswer()`
- ‚úÖ `startInterview` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.startInterview()`
- ‚úÖ `finishInterview` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.finishInterview()`
- ‚úÖ `listPositionInterviews` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getPositionInterviews()`

### ‚ùì Questions (5/5) - 100%
- ‚úÖ `listPositionQuestions` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getQuestions()`
- ‚úÖ `createPositionQuestion` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.createQuestion()`
- ‚úÖ `getQuestion` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getQuestion()`
- ‚úÖ `updateQuestion` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.updateQuestion()`
- ‚úÖ `deleteQuestion` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.deleteQuestion()`

### üë• Team & Users (5/5) - 100%
- ‚úÖ `listUsers` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getUsers()`
- ‚úÖ `createUser` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.createUser()`
- ‚úÖ `getUser` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getUser()`
- ‚úÖ `updateUser` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.updateUser()`
- ‚úÖ `deleteUser` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.deleteUser()`

### ‚öôÔ∏è Settings (4/4) - 100%
- ‚úÖ `getBranding` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getBranding()`
- ‚úÖ `updateBranding` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.updateBranding()`
- ‚úÖ `listTariffs` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getTariffs()`
- ‚úÖ `getTariffInfo` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getTariffInfo()`

### üìä Analytics & Reports (3/3) - 100%
- ‚úÖ `getReports` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getReports()`
- ‚úÖ `getPositionsStats` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getStats()`
- ‚úÖ `getCandidatesStats` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.getStats()`

### ü§ñ AI (4/4) - 100%
- ‚úÖ `transcribeAudio` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.transcribeAudio()`
- ‚úÖ `generatePosition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.generatePosition()`
- ‚úÖ `generatePositionData` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.generatePositionData()`
- ‚úÖ `transcribeAnswerWithAI` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `apiService.transcribeInterviewAnswer()`

### üé§ Voice Interviews (4/4) - 100%
- ‚úÖ `createVoiceSession` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `elevenLabsService.createVoiceSession()`
- ‚úÖ `getNextQuestion` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `elevenLabsService.getNextQuestion()`
- ‚úÖ `saveVoiceAnswer` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `elevenLabsService.saveVoiceAnswer()`
- ‚úÖ `endVoiceSession` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `elevenLabsService.endVoiceSession()`

### ü§ñ Agents (3/5) - 60%
- ‚úÖ `listAgents` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `agentService.listAgents()`
- ‚úÖ `createAgent` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `agentService.createAgent()`
- ‚úÖ `getAgent` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `agentService.getAgent()`
- ‚ùå `updateAgent` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå `deleteAgent` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (12/47)

### üìã Positions (0/1)
- ‚ùå `partialUpdatePosition` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏)

### ‚ùì Questions (0/1)
- ‚ùå `getPositionQuestionsWithSettings` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `listPositionQuestions`)

### üë• Team & Users (0/1)
- ‚ùå `getTeam` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### üë§ Account (0/1)
- ‚ùå `getUserInfo` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### üéØ Interviews (0/2)
- ‚ùå `getChecklist` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå `getInviteInfo` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### üìä Analytics & Reports (0/1)
- ‚ùå `getInterviewsStats` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### ‚öôÔ∏è Settings (0/2)
- ‚ùå `createTariff` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå `updateTariff` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### ü§ñ Agents (0/2)
- ‚ùå `updateAgent` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå `deleteAgent` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### üîó Webhooks (0/1)
- ‚ùå `handleElevenLabsWebhook` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### üë• Candidates (0/1)
- ‚ùå `authCandidate` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ API –≤—ã–∑–æ–≤–æ–≤

### ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:

1. **VacancyCreate.tsx** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `generatePosition`:
   ```typescript
   // –°—Ç—Ä–æ–∫–∏ 275, 314, 365 - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
   const result = await apiService.generatePosition(form.description, 1, form.questionType);
   const result = await apiService.generatePosition(form.description, Number(form.questionsCount), form.questionType);
   ```

2. **Questions.tsx** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `updateQuestion`:
   ```typescript
   // –°—Ç—Ä–æ–∫–∏ 132-133 - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
   await apiService.updateQuestion(parseInt(questionId), { order: newQuestions[currentIndex].order });
   await apiService.updateQuestion(newQuestions[newIndex].id, { order: newQuestions[newIndex].order });
   ```

3. **optimizedApiService.ts** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `getCandidate`:
   ```typescript
   // –°—Ç—Ä–æ–∫–∏ 42, 159 - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
   candidateIds.map(id => apiService.getCandidate(id).catch(() => null))
   ```

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**

```typescript
// –í apiService.ts –¥–æ–±–∞–≤–∏—Ç—å:
async partialUpdatePosition(id: number, status: PositionStatusEnum): Promise<Position> {
  const response = await this.getApiClient().positions.partialUpdatePosition(id, { status });
  return response.data;
}

async getPositionQuestionsWithSettings(positionId: number): Promise<PositionQuestionsResponse> {
  const response = await this.getApiClient().questions.getPositionQuestionsWithSettings(positionId);
  return response.data;
}

async getTeam(): Promise<User[]> {
  const response = await this.getApiClient().teamUsers.getTeam();
  return response.data;
}

async getUserInfo(): Promise<any> {
  const response = await this.getApiClient().account.getUserInfo();
  return response.data;
}

async getChecklist(): Promise<any[]> {
  const response = await this.getApiClient().interviews.getChecklist();
  return response.data;
}

async getInviteInfo(): Promise<any> {
  const response = await this.getApiClient().interviews.getInviteInfo();
  return response.data;
}

async getInterviewsStats(): Promise<InterviewStats> {
  const response = await this.getApiClient().analyticsReports.getInterviewsStats();
  return response.data;
}

async createTariff(tariffData: TariffCreateRequest): Promise<Tariff> {
  const response = await this.getApiClient().settings.createTariff(tariffData);
  return response.data;
}

async updateTariff(id: number, tariffData: TariffUpdateRequest): Promise<Tariff> {
  const response = await this.getApiClient().settings.updateTariff(id, tariffData);
  return response.data;
}

async updateAgent(agentId: number, agentData: AgentUpdateRequest): Promise<Agent> {
  const response = await this.getApiClient().agents.updateAgent(agentId, agentData);
  return response.data;
}

async deleteAgent(agentId: number): Promise<void> {
  await this.getApiClient().agents.deleteAgent(agentId);
}

async authCandidate(authData: CandidateAuthRequest): Promise<CandidateAuthResponse> {
  const response = await this.getApiClient().candidates.authCandidate(authData);
  return response.data;
}
```

### 2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã**

```typescript
// –í VacancyCreate.tsx - —Å–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:
const generatePositionWithRetry = async (description: string, questionsCount: number, questionType: string) => {
  try {
    return await apiService.generatePosition(description, questionsCount, questionType);
  } catch (error) {
    console.error('Failed to generate position:', error);
    throw error;
  }
};

// –í Questions.tsx - —Å–æ–∑–¥–∞—Ç—å batch update:
const updateQuestionOrders = async (questions: Question[]) => {
  const updates = questions.map(q => 
    apiService.updateQuestion(q.id, { order: q.order })
  );
  await Promise.all(updates);
};

// –í optimizedApiService.ts - –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:
const candidateCache = new Map<number, Candidate>();

const getCandidateWithCache = async (id: number): Promise<Candidate | null> => {
  if (candidateCache.has(id)) {
    return candidateCache.get(id)!;
  }
  
  try {
    const candidate = await apiService.getCandidate(id);
    candidateCache.set(id, candidate);
    return candidate;
  } catch (error) {
    return null;
  }
};
```

### 3. **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ API –∫–ª–∏–µ–Ω—Ç—ã**

```typescript
// –í apiClient.ts –¥–æ–±–∞–≤–∏—Ç—å:
import { AgentsApi } from './apis/agents-api';

export interface ApiClient {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  agents: AgentsApi;
}

export function createApiClient(): ApiClient {
  return {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
    agents: new AgentsApi(config)
  };
}
```

---

## üìà –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|---------------|--------|
| Auth | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Account | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Positions | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Candidates | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Interviews | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Questions | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Team & Users | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Settings | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Analytics & Reports | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| AI | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Voice Interviews | 100% | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Agents | 60% | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ |
| Webhooks | 0% | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 85%** - –û—Ç–ª–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ API, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–±–æ–ª—å—à–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ö–µ–º–µ. 