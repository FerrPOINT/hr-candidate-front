# üé§ ElevenLabs Integration Setup Guide

## üìã –û–±–∑–æ—Ä

–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã —Å ElevenLabs Conversational AI –≤ HR Recruiter:

1. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ backend
3. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤—å—é** - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ElevenLabs

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# ElevenLabs Configuration
REACT_APP_ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
REACT_APP_ELEVENLABS_DEFAULT_VOICE_ID=pNInz6obpgDQGcFmaJgB

# Backend Configuration
REACT_APP_API_BASE_URL=http://localhost:8080/api/v1
REACT_APP_USE_PROXY=true
REACT_APP_BACKEND_URL=http://localhost:8080
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞ ElevenLabs

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [elevenlabs.io](https://elevenlabs.io)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [API Keys](https://elevenlabs.io/app/api-keys)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –≤ `.env.local`

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
npm install
npm start
```

## üîÑ –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**URL:** `/interview-entry?positionId=123`

–ö–∞–Ω–¥–∏–¥–∞—Ç –≤–≤–æ–¥–∏—Ç:
- –ò–º—è
- –§–∞–º–∏–ª–∏—é  
- Email
- –¢–µ–ª–µ—Ñ–æ–Ω

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `InterviewEntryForm.tsx`

### –®–∞–≥ 2: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã:
1. Backend —Å–æ–∑–¥–∞–µ—Ç/–Ω–∞—Ö–æ–¥–∏—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
2. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω
3. –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `authStore`
4. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `/elabs/{interviewId}`

### –®–∞–≥ 3: –ì–æ–ª–æ—Å–æ–≤–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é

**URL:** `/elabs/{interviewId}`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `ElabsSession.tsx` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `ElevenLabsConversation.tsx` - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ElevenLabs
- `useElevenLabs.ts` - —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–µ–π

## üéØ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ElevenLabs

### ElevenLabsConversation.tsx

–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è **—Å–µ—Ä–¥—Ü–µ–º** –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤—å—é:

```tsx
<ElevenLabsConversation
  agentId={agentId}
  voiceId="pNInz6obpgDQGcFmaJgB"
  isConnected={isConnected}
  onMessage={(message) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –∞–≥–µ–Ω—Ç–∞
  }}
  onError={(error) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  }}
  // ... –¥—Ä—É–≥–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
/>
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

- ‚úÖ **–†–µ–∞–ª—å–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ** —á–µ—Ä–µ–∑ ElevenLabs SDK
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** —Ä–µ—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **TTS –¥–ª—è –∞–≥–µ–Ω—Ç–∞** - –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –º–∏–∫—Ä–æ—Ñ–æ–Ω, –¥–∏–Ω–∞–º–∏–∫–∏, AI
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π** - –Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Ä–µ—á–∏, –æ—à–∏–±–∫–∏
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Frontend (React)
‚îú‚îÄ‚îÄ InterviewEntryForm.tsx (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚îú‚îÄ‚îÄ ElabsSession.tsx (–æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω—Ç–µ—Ä–≤—å—é)
‚îú‚îÄ‚îÄ ElevenLabsConversation.tsx (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
‚îú‚îÄ‚îÄ useElevenLabs.ts (—Ö—É–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
‚îî‚îÄ‚îÄ voiceInterviewService.ts (—Å–µ—Ä–≤–∏—Å API)

Backend (Java)
‚îú‚îÄ‚îÄ /candidates/auth (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞)
‚îú‚îÄ‚îÄ /interviews/{id}/start (—Å–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞)
‚îú‚îÄ‚îÄ /interviews/{id}/voice/session (–≥–æ–ª–æ—Å–æ–≤–∞—è —Å–µ—Å—Å–∏—è)
‚îú‚îÄ‚îÄ /interviews/{id}/voice/next-question (—Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å)
‚îú‚îÄ‚îÄ /interviews/{id}/voice/answer (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞)
‚îî‚îÄ‚îÄ /interviews/{id}/voice/end (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏)

ElevenLabs API
‚îú‚îÄ‚îÄ @elevenlabs/react (React SDK)
‚îú‚îÄ‚îÄ useConversation (—Ö—É–∫ –¥–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞)
‚îî‚îÄ‚îÄ WebSocket (—Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π

### –°–æ—Å—Ç–æ—è–Ω–∏—è:

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ElevenLabs
2. **–ê–∫—Ç–∏–≤–Ω–∞** - –≥–æ–ª–æ—Å–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
3. **–ê–≥–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç** - TTS –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç** - STT –∑–∞–ø–∏—Å—å
5. **–ó–∞–≤–µ—Ä—à–µ–Ω–∞** - –∏–Ω—Ç–µ—Ä–≤—å—é –æ–∫–æ–Ω—á–µ–Ω–æ

### –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- **–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è** - –∑–∞–ø—É—Å–∫ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
- **–ù–∞—á–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä** - —Å—Ç–∞—Ä—Ç –∏–Ω—Ç–µ—Ä–≤—å—é
- **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** - –ø–∞—É–∑–∞ —Å–µ—Å—Å–∏–∏
- **–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é** - –æ–∫–æ–Ω—á–∞–Ω–∏–µ

## üìä –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:
- –°–æ–æ–±—â–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ (—Å–∏–Ω–∏–µ)
- –û—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–µ—Ä—ã–µ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- –¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å
- –°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- HTTPS –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ frontend –∏ backend
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
üé§ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é 123...
‚úÖ –î–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤—å—é –ø–æ–ª—É—á–µ–Ω—ã
‚úÖ –ê–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –Ω–∞ –±—ç–∫–µ–Ω–¥–µ: agent_123

// ElevenLabs —Å–æ–±—ã—Ç–∏—è
üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ ElevenLabs conversation...
üé§ ElevenLabs conversation started
ü§ñ Agent started speaking
üë§ User started speaking
üì® ElevenLabs message: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ù–∞—á–Ω–µ–º –∏–Ω—Ç–µ—Ä–≤—å—é...

// –û—à–∏–±–∫–∏
‚ùå ElevenLabs error: Connection failed
‚ùå –û—à–∏–±–∫–∞ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏: Network error
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
console.log('Voice session status:', voiceStatus);
console.log('Is connected:', isConnected);
console.log('Agent ID:', agentId);
console.log('Messages:', messages);
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ** `/interview-entry?positionId=123`
2. **–í–≤–µ–¥–∏—Ç–µ** –¥–∞–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
3. **–ü–æ–ª—É—á–∏—Ç–µ** —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –Ω–∞ `/elabs/{interviewId}`
5. **–ù–∞–∂–º–∏—Ç–µ** "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"
6. **–ù–∞—á–Ω–∏—Ç–µ** –≥–æ–ª–æ—Å–æ–≤–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é!

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2024  
**–ê–≤—Ç–æ—Ä:** HR Recruiter Team 