# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ê–Ω–∞–ª–∏–∑ –¥–≤—É—Ö –¥–∏–∑–∞–π–Ω–æ–≤ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ —Ä–æ–ª—è–º

## üìã –û–ë–ó–û–† –ü–†–û–ï–ö–¢–ê

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–î–≤–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** —Å —Ä–∞–∑–Ω—ã–º–∏ –ª–æ–≥–∏–Ω–∞–º–∏, –Ω–æ **–æ–¥–∏–Ω –±—ç–∫–µ–Ω–¥**
- **–°–ª–æ–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω** (EditorLayout) - –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **–ü—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω** (Layout) - –¥–ª—è —Ä–µ–∫—Ä—É—Ç–µ—Ä–æ–≤/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Voice-to-Voice –∏–Ω—Ç–µ—Ä–≤—å—é** —á–µ—Ä–µ–∑ ElevenLabs (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

## üîç –ü–†–û–ë–õ–ï–ú–´ –¢–ï–ö–£–©–ï–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–æ–≤
```typescript
// –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
/ ‚Üí EditorLayout (—Å–ª–æ–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω) - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
/admin/* ‚Üí Layout (–ø—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω) - –∞–¥–º–∏–Ω—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
```

### 2. –ü—Ä–æ–±–ª–µ–º—ã
- ‚ùå **–ò–Ω–≤–µ—Ä—Å–∏—è –¥–∏–∑–∞–π–Ω–æ–≤**: –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –ø—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω –≤ `/admin`
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é" –≤–µ–¥–µ—Ç –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω
- ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è**: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

## üéØ –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** (`admin`) ‚Üí –°–ª–æ–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω (EditorLayout)
- **–†–µ–∫—Ä—É—Ç–µ—Ä—ã/–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏** (`recruiter`, `viewer`) ‚Üí –ü—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω (Layout)
- **–ö–∞–Ω–¥–∏–¥–∞—Ç—ã** (`CANDIDATE`) ‚Üí CandidateLayout (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

### 2. Voice-to-Voice –∏–Ω—Ç–µ—Ä–≤—å—é
- –û–±–∞ –¥–∏–∑–∞–π–Ω–∞ –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É voice-to-voice
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ElevenLabs Conversational AI (—É–∂–µ –≥–æ—Ç–æ–≤–∞)

## üèóÔ∏è –†–ï–®–ï–ù–ò–ï

### 1. –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–æ–≤
```typescript
// src/App.tsx
<Routes>
  {/* –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */}
  <Route path="/login" element={<Login />} />
  <Route path="/interview-entry" element={<InterviewEntryForm />} />
  
  {/* –°—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ */}
  <Route path="/interview/:sessionId" element={<CandidateLayout><InterviewSession /></CandidateLayout>} />
  <Route path="/elabs/:sessionId" element={<CandidateLayout><ElabsSession /></CandidateLayout>} />
  
  {/* –ê–¥–º–∏–Ω—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å–ª–æ–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω) */}
  <Route path="/admin" element={<ProtectedRoute><AdminLayout /></ProtectedRoute>}>
    <Route index element={<EditorLayout />} />
    <Route path="dashboard" element={<EditorLayout />} />
    <Route path="vacancies" element={<EditorLayout />} />
    <Route path="interviews" element={<EditorLayout />} />
    {/* ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–æ—É—Ç—ã */}
  </Route>
  
  {/* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω) */}
  <Route path="/user" element={<ProtectedRoute><UserLayout /></ProtectedRoute>}>
    <Route index element={<Dashboard />} />
    <Route path="dashboard" element={<Dashboard />} />
    <Route path="vacancies" element={<VacancyList />} />
    <Route path="interviews" element={<InterviewList />} />
    {/* ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–æ—É—Ç—ã */}
  </Route>
  
  {/* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */}
  <Route path="/" element={<RoleBasedRedirect />} />
  
  {/* –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Ä–æ—É—Ç–∞–º–∏ */}
  <Route path="/old" element={<Layout />}>
    {/* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–æ—É—Ç—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ */}
  </Route>
</Routes>
```

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```typescript
// src/components/RoleBasedRedirect.tsx
const RoleBasedRedirect: React.FC = () => {
  const { user, isAuth } = useAuthStore();
  
  if (!isAuth) {
    return <Navigate to="/login" replace />;
  }
  
  // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã ‚Üí —Å–ª–æ–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω
  if (user?.role === 'admin') {
    return <Navigate to="/admin" replace />;
  }
  
  // –†–µ–∫—Ä—É—Ç–µ—Ä—ã –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ ‚Üí –ø—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω
  return <Navigate to="/user" replace />;
};
```

### 3. Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```typescript
// src/components/AdminLayout.tsx
const AdminLayout: React.FC = () => {
  const { isAuth } = useAuthStore();
  const { isAdmin } = useRoleAccess();
  
  if (!isAuth) return <Navigate to="/login" replace />;
  if (!isAdmin) return <Navigate to="/user" replace />;
  
  return <Outlet />;
};

// src/components/UserLayout.tsx
const UserLayout: React.FC = () => {
  const { isAuth } = useAuthStore();
  const { isAdmin } = useRoleAccess();
  
  if (!isAuth) return <Navigate to="/login" replace />;
  if (isAdmin) return <Navigate to="/admin" replace />;
  
  return (
    <Layout>
      <Outlet />
    </Layout>
  );
};
```

### 4. –•—É–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π
```typescript
// src/hooks/useRoleAccess.ts
export const useRoleAccess = () => {
  const { user } = useAuthStore();
  
  return {
    isAdmin: user?.role === 'admin',
    isRecruiter: user?.role === 'recruiter',
    isViewer: user?.role === 'viewer',
    isCandidate: user?.role === 'CANDIDATE',
    canCreate: user?.role === 'admin' || user?.role === 'recruiter',
    canEdit: user?.role === 'admin' || user?.role === 'recruiter',
    canDelete: user?.role === 'admin',
  };
};
```

## üîÑ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° VOICE-TO-VOICE

### 1. –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∏–Ω—Ç–µ—Ä–≤—å—é
```typescript
// –ò–∑ –ª—é–±–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞
const handleStartVoiceInterview = (interviewId: number) => {
  const session = await VoiceInterviewService.startInterview(interviewId, {
    voiceMode: true,
    autoCreateAgent: true
  });
  
  navigate(`/elabs/${interviewId}`);
};
```

### 2. –ï–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤—å—é
```typescript
// src/pages/ElabsSession.tsx - —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
<ElevenLabsConversation
  agentId={agentId}
  voiceId="pNInz6obpgDQGcFmaJgB"
  isConnected={isConnected}
  onMessage={(message) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Ä–µ—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ backend
  }}
  onError={(error) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  }}
  onSessionEnd={() => {
    // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
  }}
/>
```

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (1-2 –¥–Ω—è)
- `src/components/RoleBasedRedirect.tsx`
- `src/components/AdminLayout.tsx`
- `src/components/UserLayout.tsx`
- `src/hooks/useRoleAccess.ts`

### –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–∏–Ω–≥–∞ (1 –¥–µ–Ω—å)
- –û–±–Ω–æ–≤–∏—Ç—å `src/App.tsx`
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–æ–≤

### –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 –¥–Ω—è)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø–æ —Ä–æ–ª—è–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–∏–∑–∞–π–Ω–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ voice-to-voice –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (1 –¥–µ–Ω—å)
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ production

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–æ–≤
- ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç —Å–ª–æ–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω (EditorLayout)
- ‚úÖ –†–µ–∫—Ä—É—Ç–µ—Ä—ã/–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø—Ä–æ—Å—Ç–æ–π –¥–∏–∑–∞–π–Ω (Layout)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º

### 2. –ï–¥–∏–Ω—ã–π –±—ç–∫–µ–Ω–¥
- ‚úÖ –û–¥–∏–Ω API –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ä–æ–ª—è–º
- ‚úÖ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 3. Voice-to-Voice –∏–Ω—Ç–µ—Ä–≤—å—é
- ‚úÖ –û–±–∞ –¥–∏–∑–∞–π–Ω–∞ –≤–µ–¥—É—Ç –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∏–Ω—Ç–µ—Ä–≤—å—é
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ElevenLabs Conversational AI
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑

## üöÄ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è:
1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–æ–≤ –ø–æ —Ä–æ–ª—è–º
2. **–ï–¥–∏–Ω—ã–π –±—ç–∫–µ–Ω–¥** - —ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —É–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
3. **Voice-to-Voice –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—é –∏–Ω—Ç–µ—Ä–≤—å—é
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–æ–ª–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. **–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º
2. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –¢–ó** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã** –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
4. **–ù–∞—á–∞–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É

**–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: 5-7 –¥–Ω–µ–π**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è**
**–†–∏—Å–∫–∏: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ** 