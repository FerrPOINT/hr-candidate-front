# üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å —Ç–æ–∫–µ–Ω–æ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞

### üîë 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–±–µ–∑ —Ç–æ–∫–µ–Ω–∞)
```
POST /candidates/auth
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `InterviewEntryForm.tsx`  
**–¢–æ–∫–µ–Ω:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–ø—É–±–ª–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç)

---

### üé§ 2. –ì–æ–ª–æ—Å–æ–≤–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é (—Å —Ç–æ–∫–µ–Ω–æ–º)

#### 2.1 –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤—å—é
```
GET /interviews/{interviewId}
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–Ω—Ç–µ—Ä–≤—å—é  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `ElabsSession.tsx` (—Å—Ç—Ä–æ–∫–∞ 113)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 2.2 –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–≤—å—é —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∞–≥–µ–Ω—Ç–∞
```
POST /interviews/{interviewId}/start
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–≤—å—é –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ ElevenLabs –∞–≥–µ–Ω—Ç–∞  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `ElabsSession.tsx` (—Å—Ç—Ä–æ–∫–∞ 119)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`  
**Body:**
```json
{
  "voiceMode": true,
  "autoCreateAgent": true
}
```

#### 2.3 –°–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
```
POST /interviews/{interviewId}/voice/session
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ –≤ ElevenLabs  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `voiceInterviewService.ts`  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 2.4 –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
```
GET /interviews/{interviewId}/voice/next-question
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤—å—é  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `ElabsSession.tsx` (—Å—Ç—Ä–æ–∫–∞ 165)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 2.5 –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
```
POST /interviews/{interviewId}/voice/answer?questionId={questionId}
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `ElabsSession.tsx` (—Å—Ç—Ä–æ–∫–∞ 147)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`  
**Body:**
```json
{
  "text": "–û—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞",
  "durationMs": 15000,
  "confidence": 0.95,
  "timestamp": "2024-01-15T10:30:15Z"
}
```

#### 2.6 –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
```
GET /interviews/{interviewId}/voice/status
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `voiceInterviewService.ts`  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 2.7 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
```
POST /interviews/{interviewId}/voice/end
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–µ—Å—Å–∏–∏  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `ElabsSession.tsx` (—Å—Ç—Ä–æ–∫–∞ 186)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 2.8 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é
```
POST /interviews/{interviewId}/finish
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `ElabsSession.tsx` (—Å—Ç—Ä–æ–∫–∞ 197)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

---

### üìä 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Å —Ç–æ–∫–µ–Ω–æ–º)

#### 3.1 –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–∑–∏—Ü–∏–∏
```
GET /positions/{positionId}
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏–∏  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `InterviewEntryForm.tsx` (—Å—Ç—Ä–æ–∫–∞ 79)  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 3.2 –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```
GET /positions/{positionId}/questions-with-settings
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω—Ç–µ—Ä–≤—å—é  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `apiService.ts`  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 3.3 –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
```
GET /user/info
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–¥–∏–¥–∞—Ç–µ  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `apiService.ts`  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

#### 3.4 –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∞—Ä–∏—Ñ–µ
```
GET /tariff/info
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤—å—é  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `apiService.ts`  
**–¢–æ–∫–µ–Ω:** `Authorization: Bearer <candidate_token>`

---

### üîÑ 4. Webhook —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–æ—Ç ElevenLabs)

#### 4.1 –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook —Å–æ–±—ã—Ç–∏–π
```
POST /webhooks/elevenlabs/events
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏–µ–º —Å–æ–±—ã—Ç–∏–π –æ—Ç ElevenLabs Conversational AI  
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** Backend (Java)  
**–¢–æ–∫–µ–Ω:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–ø—É–±–ª–∏—á–Ω—ã–π webhook)  
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Content-Type: application/json
X-ElevenLabs-Signature: <signature>
```

---

## üîí –ú–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```typescript
// –í apiClient.ts
const config = new Configuration({
  basePath,
  accessToken: () => useAuthStore.getState().token || '',
});
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```typescript
// –í authStore.ts
const saveAuthData = (token: string, user: any, role: string, rememberMe: boolean = false) => {
  const storage = rememberMe ? localStorage : sessionStorage;
  storage.setItem('auth_token', token);
  storage.setItem('auth_user', JSON.stringify(user));
  storage.setItem('auth_role', role);
};
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
useEffect(() => {
  useAuthStore.getState().restoreSession();
}, []);
```

---

## üìù –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ API –≤—ã–∑–æ–≤–æ–≤

### –≠—Ç–∞–ø 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ
1. **GET /positions/{positionId}** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏–∏
2. **POST /candidates/auth** - –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

### –≠—Ç–∞–ø 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é
3. **GET /interviews/{interviewId}** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤—å—é
4. **POST /interviews/{interviewId}/start** - –∑–∞–ø—É—Å–∫ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∞–≥–µ–Ω—Ç–∞

### –≠—Ç–∞–ø 3: –ì–æ–ª–æ—Å–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (—Ü–∏–∫–ª)
5. **GET /interviews/{interviewId}/voice/next-question** - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
6. **POST /interviews/{interviewId}/voice/answer** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
7. **GET /interviews/{interviewId}/voice/status** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

### –≠—Ç–∞–ø 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
8. **POST /interviews/{interviewId}/voice/end** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
9. **POST /interviews/{interviewId}/finish** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞

| ‚Ññ | –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–æ–∫–µ–Ω | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ |
|---|-------|----------|----------|-------|----------------|
| 1 | GET | `/positions/{positionId}` | –î–∞–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ | ‚úÖ | InterviewEntryForm |
| 2 | POST | `/candidates/auth` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ | ‚ùå | InterviewEntryForm |
| 3 | GET | `/interviews/{interviewId}` | –î–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤—å—é | ‚úÖ | ElabsSession |
| 4 | POST | `/interviews/{interviewId}/start` | –ó–∞–ø—É—Å–∫ —Å –∞–≥–µ–Ω—Ç–æ–º | ‚úÖ | ElabsSession |
| 5 | POST | `/interviews/{interviewId}/voice/session` | –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ | ‚úÖ | voiceInterviewService |
| 6 | GET | `/interviews/{interviewId}/voice/next-question` | –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å | ‚úÖ | ElabsSession |
| 7 | POST | `/interviews/{interviewId}/voice/answer` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ | ‚úÖ | ElabsSession |
| 8 | GET | `/interviews/{interviewId}/voice/status` | –°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏ | ‚úÖ | voiceInterviewService |
| 9 | POST | `/interviews/{interviewId}/voice/end` | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ | ‚úÖ | ElabsSession |
| 10 | POST | `/interviews/{interviewId}/finish` | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é | ‚úÖ | ElabsSession |
| 11 | GET | `/positions/{positionId}/questions-with-settings` | –í–æ–ø—Ä–æ—Å—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ | ‚úÖ | apiService |
| 12 | GET | `/user/info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ | ‚úÖ | apiService |
| 13 | GET | `/tariff/info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞—Ä–∏—Ñ–µ | ‚úÖ | apiService |
| 14 | POST | `/webhooks/elevenlabs/events` | Webhook —Å–æ–±—ã—Ç–∏—è | ‚ùå | Backend |

**–í—Å–µ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤: 14**  
**–° —Ç–æ–∫–µ–Ω–æ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞: 12**  
**–ë–µ–∑ —Ç–æ–∫–µ–Ω–∞: 2**  

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend. –¢–æ–∫–µ–Ω –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º —á–µ—Ä–µ–∑ `apiClient.ts` –∏ `useAuthStore`. üöÄ 