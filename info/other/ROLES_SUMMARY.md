# –ö—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç –ø–æ —Å–∏—Å—Ç–µ–º–µ —Ä–æ–ª–µ–π HR Recruiter

## üéØ –¶–µ–ª—å
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Ç–∫–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Ä–æ–ª—è–º –≤ API –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥.

## üìã –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏:
- **`admin`** - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- **`recruiter`** - –†–µ–∫—Ä—É—Ç–µ—Ä (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø)  
- **`viewer`** - –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)

## üîç –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Admin**: –≤–∏–¥–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- **Recruiter/Viewer**: –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (–ø–æ owner_id)

### 2. –û–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Ä–æ–ª—è–º
- **Admin**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (CRUD)
- **Recruiter**: —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —á—Ç–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **Viewer**: —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –í—Å–µ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤: ~50

#### ‚úÖ –ì–æ—Ç–æ–≤—ã–µ (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π):
- **Auth**: login (–ø—É–±–ª–∏—á–Ω—ã–π), logout (–≤—Å–µ —Ä–æ–ª–∏)
- **Account**: get/put (–≤—Å–µ —Ä–æ–ª–∏)
- **Candidates**: auth (–ø—É–±–ª–∏—á–Ω—ã–π)

#### üîÑ –¢—Ä–µ–±—É—é—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (GET):
- **Positions**: admin - –≤—Å–µ, recruiter/viewer - —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏
- **Candidates**: admin - –≤—Å–µ, recruiter/viewer - –ø–æ —Å–≤–æ–∏–º –≤–∞–∫–∞–Ω—Å–∏—è–º  
- **Interviews**: admin - –≤—Å–µ, recruiter/viewer - –ø–æ —Å–≤–æ–∏–º –≤–∞–∫–∞–Ω—Å–∏—è–º
- **Questions**: admin - –≤—Å–µ, recruiter/viewer - –ø–æ —Å–≤–æ–∏–º –≤–∞–∫–∞–Ω—Å–∏—è–º
- **Analytics**: admin - –≤—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, recruiter/viewer - –ø–æ —Å–≤–æ–∏–º –≤–∞–∫–∞–Ω—Å–∏—è–º

#### üîÑ –¢—Ä–µ–±—É—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π (POST/PUT/DELETE):
- **Positions**: recruiter –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏, viewer - –∑–∞–ø—Ä–µ—â–µ–Ω–æ
- **Candidates**: recruiter –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, viewer - –∑–∞–ø—Ä–µ—â–µ–Ω–æ
- **Interviews**: recruiter –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, viewer - –∑–∞–ø—Ä–µ—â–µ–Ω–æ
- **Questions**: recruiter –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, viewer - –∑–∞–ø—Ä–µ—â–µ–Ω–æ

#### üîÑ –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤:
- **Team**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è admin
- **Settings/Tariffs**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è admin
- **Agents**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è admin
- **Webhooks**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è admin

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ owner_id
```sql
-- –î–ª—è recruiter/viewer
WHERE owner_id = :current_user_id

-- –î–ª—è admin  
-- –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π
```typescript
// –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
if (role === 'viewer') return 403 Forbidden;
if (role === 'recruiter' && !isOwner) return 403 Forbidden;
```

### 3. HTTP –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- **401**: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
- **403**: –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- **404**: —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

1. **`API_ROLES_ANALYSIS.md`** - –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
2. **`BACKEND_ROLES_IMPLEMENTATION_GUIDE.md`** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
3. **`ROLES_SUMMARY.md`** - –≠—Ç–æ—Ç –∫—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –±—ç–∫–µ–Ω–¥–∞

### üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è GET —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ owner_id
2. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π –≤ POST/PUT/DELETE
3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è viewer

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π
2. –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –Ω–∞ –±—ç–∫–µ–Ω–¥

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —á–µ—Ç–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤–ª–∞–¥–µ–ª—å—Ü—É –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö —Ä–æ–ª–µ–π –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π. 