# Техническое задание (ТЗ)
## Разделение и развитие интерфейсов: /recruiter (старый UI), /editor (экспериментальный UI), /crm (новый UI)

---

## 1. Общие положения

### 1.1. Цели проекта
- Обеспечить одновременное существование и независимую разработку трёх интерфейсов:
  - `/recruiter` — стабильный, поддерживаемый старый UI для рекрутеров.
  - `/editor` — экспериментальный редактор интерфейсов, временно заморожен, но должен быть доступен для тестирования.
  - `/crm` — новый корпоративный интерфейс, разрабатываемый по макетам Figma, с современным UX/UI.

### 1.2. Требования к архитектуре
- Каждый интерфейс должен быть изолирован по роутингу, стилям, состоянию и зависимостям.
- В кодовой базе должны быть чётко выделены директории и компоненты для каждого интерфейса.
- Возможность независимого деплоя и тестирования каждого интерфейса.
- Единая точка входа (App.tsx), где происходит роутинг между интерфейсами.

---

## 2. Роутинг и точки входа

### 2.1. Роуты
- `/recruiter` — старый UI (legacy), используется для основной работы рекрутеров.
- `/editor` — экспериментальный UI, доступен только для тестирования и внутренней команды.
- `/crm` — новый UI, разрабатывается по макетам Figma, будет основным интерфейсом в будущем.

### 2.2. Структура роутинга (App.tsx)
- Использовать React Router v6+.
- Для каждого интерфейса — отдельный layout-компонент и набор страниц.
- Пример структуры:
  ```tsx
  <Routes>
    <Route path="/recruiter/*" element={<RecruiterLayout />}>{/* legacy pages */}</Route>
    <Route path="/editor/*" element={<EditorLayout />}>{/* experimental editor */}</Route>
    <Route path="/crm/*" element={<CrmLayout />}>{/* new CRM UI */}</Route>
    {/* fallback, auth, etc. */}
  </Routes>
  ```

---

## 3. Старый интерфейс /recruiter

### 3.1. Назначение
- Основной рабочий инструмент для рекрутеров.
- Стабильный, поддерживаемый, с минимальными изменениями.

### 3.2. Требования
- Сохранить текущую функциональность без изменений.
- Все новые фичи и дизайн — только по согласованию.
- Поддержка багфиксов и критических обновлений.

### 3.3. Структура
- Директория: `src/pages/`, `src/components/`, `src/services/` (legacy).
- Layout: `RecruiterLayout.tsx` (создать, если нет).
- Стили: текущие CSS/SCSS/Tailwind, не менять без необходимости.
- Использовать существующие сторы (zustand), сервисы и модели.

---

## 4. Экспериментальный интерфейс /editor

### 4.1. Назначение
- Песочница для тестирования новых UI/UX идей, редактор интерфейсов.
- Временно заморожен, но должен быть доступен для внутреннего тестирования.

### 4.2. Требования
- Не влиять на основной продукт.
- Доступ только для определённых ролей (например, через feature flag или ограничение по логину).
- Возможность быстро возобновить разработку.

### 4.3. Структура
- Директория: `src/components/editor/` или `src/editor/` (сейчас — `EditorLayout.tsx`, `EditorCanvas.tsx` и др.).
- Layout: `EditorLayout.tsx`.
- Стили: изолированные, не пересекаются с другими интерфейсами.
- Состояние: отдельный store (например, zustand), не пересекается с legacy.
- Виджеты: `src/components/widgets/` — использовать только для editor.

---

## 5. Новый интерфейс /crm

### 5.1. Назначение
- Новый корпоративный интерфейс для всех ролей (рекрутеры, админы, аналитики и т.д.).
- Современный дизайн, реализуемый строго по макетам Figma.

### 5.2. Требования к дизайну
- Все UI-решения, цвета, размеры, отступы, шрифты — строго по Figma.
- Использовать дизайн-систему (если есть), либо заложить её основу.
- Компоненты должны быть атомарными, переиспользуемыми, легко тестируемыми.
- Поддержка тёмной/светлой темы (если предусмотрено в макетах).
- Адаптивность: desktop-first, но с поддержкой планшетов и мобильных (если есть в макетах).

### 5.3. Требования к реализации
- Директория: `src/crm/` или `src/pages/crm/`, `src/components/crm/` (создать).
- Layout: `CrmLayout.tsx` (создать).
- Стили: CSS-модули, styled-components или Tailwind (по согласованию с дизайнерами).
- Состояние: отдельный store (zustand/redux), не пересекается с legacy/editor.
- Использовать TypeScript, строгую типизацию props и state.
- Все компоненты должны быть покрыты Storybook-историями (если Storybook используется в проекте).
- Покрытие unit-тестами (Jest/RTL) — не менее 80% для новых компонентов.
- Интеграция с CI/CD для автоматической проверки стилей, типов и тестов.

### 5.4. Взаимодействие с дизайнерами
- Все макеты, спецификации, гайды — в Figma, доступ по ссылке.
- Перед началом реализации каждого блока — согласование с дизайнером.
- Любые отклонения от макета — только по согласованию.

### 5.5. Документация и поддержка
- Для каждого компонента — документация по API, примеры использования, ограничения.
- Для layout-структуры — схема роутинга, описание точек входа, взаимодействие с backend.
- Для состояния — схема store, описание бизнес-логики.

---

## 6. Безопасность и доступ

- Для /crm и /editor — доступ только авторизованным пользователям.
- Для /editor — возможно, только для определённых ролей (feature flag).
- Для /crm — предусмотреть возможность A/B тестирования и feature toggles для новых фич.

---

## 7. Миграция и поддержка

- Старый UI (/recruiter) поддерживается до полного перехода на /crm.
- Все новые фичи — только в /crm, кроме критических багфиксов.
- Миграция данных и состояния между интерфейсами — по отдельному плану.
- Документация по миграции должна быть доступна для всей команды.

---

## 8. Тестирование

- Для каждого интерфейса — отдельные сценарии e2e (Cypress/Playwright).
- Для /crm — обязательное покрытие unit и интеграционными тестами.
- Для /editor — тесты по необходимости (экспериментальная зона).
- Для /recruiter — поддержка существующих тестов.

---

## 9. CI/CD и деплой

- Каждый интерфейс должен быть доступен на отдельном стенде (dev, stage, prod).
- Автоматическая сборка и деплой при каждом мерже в main/develop.
- Проверка стилей, типов, тестов — обязательна для /crm.

---

## 10. План-график и контроль

- Разработка /crm ведётся по спринтам, с регулярными демо и ретро.
- Все задачи по /crm — в отдельном трекере (Jira, YouTrack, Linear).
- Для /editor — задачи по необходимости, без строгого контроля.
- Для /recruiter — только багфиксы и поддержка.

---

## 11. Приложения

- Ссылки на макеты Figma (будут предоставлены).
- Список всех компонентов, страниц, модулей для /crm (будет формироваться по мере детализации макетов).
- Гайд по стилям, шрифтам, цветам (после согласования с дизайнерами).

---

## 12. Ответственные

- Владелец продукта: [ФИО, контакты]
- Технический лидер: [ФИО, контакты]
- Ведущий дизайнер: [ФИО, контакты]
- Команда разработки: [список]

---

**Данное ТЗ является живым документом и может дополняться по мере детализации макетов, появления новых требований и согласования с командой.** 