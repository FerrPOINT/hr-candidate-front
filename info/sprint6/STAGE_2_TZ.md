# ТЗ: ЭТАП 2 - АДАПТАЦИЯ ИМПОРТОВ

## ОБЩАЯ ИНФОРМАЦИЯ
- **Этап**: 2 из 5
- **Название**: Адаптация импортов
- **Срок**: 1 день
- **Приоритет**: Критический
- **Статус**: ⏳ Ожидает начала

## ЦЕЛЬ ЭТАПА
Исправить все импорты в скопированных файлах для корректной работы в новой структуре `src/candidate/` с сохранением функциональности.

## ДЕТАЛЬНЫЕ ЗАДАЧИ

### ЗАДАЧА 2.1: Анализ импортов
**Время**: 1 час
**Сложность**: Средняя

**Действия**:
1. Просканировать все файлы на наличие импортов
2. Составить список всех относительных путей
3. Определить новые пути для каждого импорта
4. Создать план исправлений

**Команды**:
```bash
# Поиск всех импортов
grep -r "import.*from.*\.\./" src/candidate/
grep -r "import.*from.*\./" src/candidate/
```

**Критерии готовности**:
- [ ] Все импорты найдены
- [ ] План исправлений составлен
- [ ] Нет пропущенных файлов

### ЗАДАЧА 2.2: Исправление импортов компонентов
**Время**: 2 часа
**Сложность**: Средняя

**Действия**:
1. Исправить импорты в `App.tsx`
2. Исправить импорты в `AuthForm.tsx`
3. Исправить импорты в `EmailVerification.tsx`
4. Исправить импорты в `InterviewProcess.tsx`
5. Исправить импорты в `VoiceRecorder.tsx`
6. Исправить импорты в `AIAvatarWithWaves.tsx`
7. Исправить импорты в `CandidateQuestions.tsx`

**Примеры исправлений**:
```typescript
// Было
import { Button } from './ui/button';
import { types } from './interview/types';

// Стало
import { Button } from '../ui/button';
import { types } from '../interview/types';
```

**Критерии готовности**:
- [ ] Все импорты компонентов исправлены
- [ ] Нет ошибок "Module not found"
- [ ] Компоненты загружаются

### ЗАДАЧА 2.3: Исправление импортов стилей
**Время**: 30 минут
**Сложность**: Низкая

**Действия**:
1. Исправить импорт `globals.css` в `App.tsx`
2. Проверить все CSS импорты
3. Убедиться в корректности путей к стилям

**Примеры исправлений**:
```typescript
// Было
import './styles/globals.css';

// Стало
import '../styles/globals.css';
```

**Критерии готовности**:
- [ ] Стили загружаются корректно
- [ ] CSS переменные работают
- [ ] Дизайн отображается правильно

### ЗАДАЧА 2.4: Исправление импортов иконок и SVG
**Время**: 1 час
**Сложность**: Средняя

**Действия**:
1. Исправить импорты в `AIAvatarWithWaves.tsx`
2. Исправить импорты в `MicrophoneTestCard.tsx`
3. Исправить все SVG импорты
4. Проверить отображение иконок

**Примеры исправлений**:
```typescript
// Было
import Synergy from '../imports/Synergy-49-121';

// Стало
import Synergy from '../../imports/Synergy-49-121';
```

**Критерии готовности**:
- [ ] Все иконки отображаются
- [ ] SVG корректно рендерятся
- [ ] Нет ошибок загрузки

### ЗАДАЧА 2.5: Исправление импортов типов и утилит
**Время**: 1 час
**Сложность**: Средняя

**Действия**:
1. Исправить импорты типов в компонентах
2. Исправить импорты утилит
3. Исправить импорты констант
4. Создать индексные файлы для экспорта

**Файлы для создания**:
- `src/candidate/types/index.ts`
- `src/candidate/utils/index.ts`
- `src/candidate/hooks/index.ts`

**Критерии готовности**:
- [ ] Все типы импортируются
- [ ] Утилиты работают
- [ ] Константы доступны

### ЗАДАЧА 2.6: Настройка алиасов путей
**Время**: 30 минут
**Сложность**: Низкая

**Действия**:
1. Настроить алиасы в `tsconfig.json`
2. Добавить пути для `@candidate/*`
3. Обновить импорты на алиасы

**Конфигурация**:
```json
{
  "compilerOptions": {
    "paths": {
      "@candidate/*": ["src/candidate/*"],
      "@candidate/components/*": ["src/candidate/components/*"],
      "@candidate/types/*": ["src/candidate/types/*"],
      "@candidate/utils/*": ["src/candidate/utils/*"]
    }
  }
}
```

**Критерии готовности**:
- [ ] Алиасы настроены
- [ ] Импорты работают с алиасами
- [ ] TypeScript не показывает ошибки

## ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ

### ПРАВИЛА ИМПОРТОВ
- Использовать относительные пути для локальных импортов
- Использовать алиасы для часто используемых модулей
- Группировать импорты по типам (React, компоненты, утилиты, типы)
- Избегать циклических зависимостей

### СТРУКТУРА ИМПОРТОВ
```typescript
// React и внешние библиотеки
import React, { useState, useEffect } from 'react';
import { motion } from 'motion/react';

// Внутренние компоненты
import { Button } from '../ui/button';
import { Input } from '../ui/input';

// Типы и утилиты
import { UserData, JobPosition } from '../types';
import { formatTime } from '../utils';

// Стили
import '../styles/globals.css';
```

### ТРЕБОВАНИЯ К КАЧЕСТВУ
- **Корректность**: Все импорты должны работать
- **Читаемость**: Импорты должны быть понятными
- **Производительность**: Избегать лишних импортов
- **Поддерживаемость**: Легко изменять при рефакторинге

## ЧЕКАП ЭТАПА

### ЧТО ПРОВЕРЯЕМ
1. **Импорты**:
   - [ ] Нет ошибок "Module not found"
   - [ ] Все компоненты загружаются
   - [ ] Типы импортируются корректно
   - [ ] Утилиты работают

2. **Функциональность**:
   - [ ] Приложение запускается
   - [ ] Компоненты рендерятся
   - [ ] Стили применяются
   - [ ] Анимации работают

3. **TypeScript**:
   - [ ] Нет ошибок типизации
   - [ ] Все типы определены
   - [ ] Автодополнение работает

### КОМАНДЫ ДЛЯ ПРОВЕРКИ
```bash
# Проверка TypeScript
npm run type-check

# Проверка компиляции
npm run build

# Проверка линтера
npm run lint

# Проверка запуска
npm start
```

### ОЖИДАЕМЫЙ РЕЗУЛЬТАТ
- Приложение работает без ошибок импорта
- Все компоненты загружаются корректно
- TypeScript не показывает ошибки
- Стили и анимации работают

## РИСКИ И МИТИГАЦИЯ

### РИСКИ
1. **Циклические зависимости**
   - **Митигация**: Проверять граф зависимостей

2. **Пропущенные импорты**
   - **Митигация**: Использовать автоматические проверки

3. **Неправильные пути**
   - **Митигация**: Тестировать каждый импорт

### ПЛАН ДЕЙСТВИЙ ПРИ ОШИБКАХ
1. Найти проблемный импорт
2. Определить правильный путь
3. Исправить импорт
4. Проверить функциональность
5. Обновить документацию

## ДОКУМЕНТАЦИЯ

### ОБНОВЛЯЕМЫЕ ФАЙЛЫ
- `CANDIDATE_INTEGRATION_STATE.md` - обновить статус этапа
- `EXECUTION_PLAN.md` - отметить выполнение

### ЛОГИ
- Записать время начала и окончания
- Зафиксировать исправленные импорты
- Отметить найденные проблемы
- Записать решения

## СЛЕДУЮЩИЙ ЭТАП
После успешного завершения этапа 2 перейти к **ЭТАПУ 3: ИНТЕГРАЦИЯ API**

---

**Статус**: ⏳ Ожидает начала
**Следующее действие**: Начать выполнение задачи 2.1
